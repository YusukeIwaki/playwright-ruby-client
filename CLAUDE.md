# CLAUDE.md

This file contains only the checks that must be verified first.  
For detailed rules, see `CLAUDE/*.md`.

## Must Check First

1. Determine first whether the task is a Playwright version upgrade.
2. Confirm generated-code handling.
- `lib/playwright_api/*.rb` is auto-generated by `development/generate_api.rb`.
- `lib/playwright_api/` is not tracked by Git. Do not edit generated files manually.
3. Confirm change order.
- For version upgrade work, update tests first, then implement `lib/playwright/**`.
4. Confirm generation and diff consistency.
- Update `development/api.json`, run generation, and verify generated diffs.
5. Confirm CI-required generated files.
- `development/api.json`
- `documentation/docs/**`
- `development/unimplemented_examples.md`
6. Confirm RSpec execution mode (critical).
- Run RSpec via `rbenv exec`.
- On failure, rerun with `DEBUG=1` and inspect protocol logs.

## Topic Docs

- `CLAUDE/playwright_upgrade_workflow.md`
- `CLAUDE/api_generation.md`
- `CLAUDE/unimplemented_examples.md`
- `CLAUDE/ci_expectations.md`
- `CLAUDE/past_upgrade_pr_patterns.md`
- `CLAUDE/rspec_debugging.md`
